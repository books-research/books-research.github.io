<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>JosephusProblem - Java Data Structures and Algorithms for Beginners</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/ferris.css">
        <link rel="stylesheet" href="../../theme/semantic-notes.css">
        <link rel="stylesheet" href="../../theme/listing.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Java Data Structures and Algorithms for Beginners</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
body {
  text-align: justify;
}
</style>
<h1 id="josephus-problem"><a class="header" href="#josephus-problem">Josephus Problem</a></h1>
<h2 id="problem-statement"><a class="header" href="#problem-statement">Problem Statement</a></h2>
<p>Write a Java program to solve the Josephus problem using a circular linked list. The Josephus problem involves n people standing in a circle, numbered from 1 to n, where every k-th person is eliminated until only one remains. The circular linked list is a singly linked list where the last node’s <code>next</code> pointer points to the head, forming a cycle. The program should return the value of the last person remaining and test the solution with different values of k and list sizes, including edge cases like single-person lists and k=1. You can visualize this as a circle of numbered cards where every k-th card is removed until only one card remains.</p>
<p><strong>Input</strong>:</p>
<ul>
<li>A circular linked list of integers representing people (e.g., 1→2→3→4→1 for n=4) and an integer k (the step size for elimination).
<strong>Output</strong>: The value of the last person remaining (e.g., 3 for n=4, k=2).
<strong>Constraints</strong>:</li>
<li>The list size n is between 1 and 10^5.</li>
<li>Node values are integers from 1 to n.</li>
<li>k is a positive integer (k ≥ 1).
<strong>Example</strong>:</li>
<li>Input: List = 1→2→3→4→1, k = 2</li>
<li>Output: 3</li>
<li>Explanation: Eliminate every 2nd person: 2, 4, 1, leaving 3.</li>
<li>Input: List = 1→1, k = 1</li>
<li>Output: 1</li>
<li>Explanation: Single person remains.</li>
<li>Input: List = 1→2→3→1, k = 3</li>
<li>Output: 1</li>
<li>Explanation: Eliminate every 3rd person: 3, 2, leaving 1.</li>
</ul>
<h2 id="pseudocode"><a class="header" href="#pseudocode">Pseudocode</a></h2>
<pre><code>CLASS Node
    SET value to integer
    SET next to Node (null by default)
ENDCLASS

FUNCTION solveJosephus(head, k)
    IF head is null THEN
        RETURN -1
    ENDIF
    IF head.next is head THEN
        RETURN head.value
    ENDIF
    SET current to head
    WHILE current.next is not current
        FOR i from 1 to k-1
            SET current to current.next
        ENDFOR
        SET nextNode to current.next
        SET current.next to nextNode.next
        SET current to current.next
    ENDWHILE
    RETURN current.value
ENDFUNCTION

FUNCTION toString(head)
    IF head is null THEN
        RETURN "[]"
    ENDIF
    CREATE result as new StringBuilder
    SET current to head
    SET visited as new Set
    WHILE current is not null AND current not in visited
        ADD current to visited
        APPEND current.value to result
        IF current.next is not head THEN
            APPEND " " to result
        ENDIF
        SET current to current.next
    ENDWHILE
    RETURN result as string
ENDFUNCTION

FUNCTION main()
    SET testCases to array of test cases (list values, k)
    FOR each testCase in testCases
        PRINT test case details
        CALL solveJosephus(testCase.head, testCase.k)
        PRINT last person remaining
    ENDFOR
ENDFUNCTION
</code></pre>
<h2 id="algorithm-steps"><a class="header" href="#algorithm-steps">Algorithm Steps</a></h2>
<ol>
<li>Define a <code>Node</code> class with:
a. An integer <code>value</code> (person number).
b. A <code>next</code> pointer to the next node.</li>
<li>In <code>solveJosephus</code>:
a. If the list is empty, return -1.
b. If the list has one node, return its value.
c. Set <code>current</code> to head.
d. While more than one node remains:
<ul>
<li>Traverse k-1 steps to find the node before the one to eliminate.</li>
<li>Remove the k-th node by updating <code>current.next</code> to skip it.</li>
<li>Move <code>current</code> to the next node.
e. Return the value of the last remaining node.</li>
</ul>
</li>
<li>In <code>toString</code>:
a. If head is null, return "[]".
b. Traverse from head, use a Set to avoid cycling, append values with spaces.
c. Return the string representation.</li>
<li>In <code>main</code>, test with different list sizes (n=1, n&gt;1) and k values (k=1, k&gt;1), including edge cases.</li>
</ol>
<h2 id="java-implementation"><a class="header" href="#java-implementation">Java Implementation</a></h2>
<pre><code class="language-java">import java.util.*;

public class JosephusProblem {
    // Node class for the circular linked list
    static class Node {
        int value;
        Node next;

        Node(int value) {
            this.value = value;
            this.next = null;
        }
    }

    // Solves the Josephus problem
    public int solveJosephus(Node head, int k) {
        if (head == null) {
            return -1;
        }
        if (head.next == head) {
            return head.value;
        }
        Node current = head;
        while (current.next != current) {
            // Move to the node before the one to be eliminated
            for (int i = 0; i &lt; k - 1; i++) {
                current = current.next;
            }
            // Remove the k-th node
            Node nextNode = current.next;
            current.next = nextNode.next;
            current = current.next;
        }
        return current.value;
    }

    // Converts circular linked list to string
    public String toString(Node head) {
        if (head == null) {
            return "[]";
        }
        StringBuilder result = new StringBuilder();
        Node current = head;
        Set&lt;Node&gt; visited = new HashSet&lt;&gt;();
        while (current != null &amp;&amp; !visited.contains(current)) {
            visited.add(current);
            result.append(current.value);
            if (current.next != head) {
                result.append(" ");
            }
            current = current.next;
        }
        return result.toString();
    }

    // Helper class for test cases
    static class TestCase {
        Node head;
        int k;

        TestCase(int n, int k) {
            this.k = k;
            if (n == 0) {
                head = null;
                return;
            }
            head = new Node(1);
            Node current = head;
            for (int i = 2; i &lt;= n; i++) {
                current.next = new Node(i);
                current = current.next;
            }
            // Make circular
            current.next = head;
        }
    }

    // Main method to test Josephus problem
    public static void main(String[] args) {
        JosephusProblem solver = new JosephusProblem();

        // Test cases
        TestCase[] testCases = {
            new TestCase(4, 2),     // n=4, k=2
            new TestCase(3, 3),     // n=3, k=3
            new TestCase(1, 1),     // Single node
            new TestCase(5, 1),     // k=1
            new TestCase(7, 4)      // Larger n, k
        };

        // Run test cases
        for (int i = 0; i &lt; testCases.length; i++) {
            TestCase test = testCases[i];
            System.out.println("Test case " + (i + 1) + ":");
            System.out.println("Input list: " + solver.toString(test.head));
            System.out.println("k: " + test.k);
            int result = solver.solveJosephus(test.head, test.k);
            System.out.println("Last person remaining: " + result + "\n");
        }
    }
}
</code></pre>
<h2 id="output"><a class="header" href="#output">Output</a></h2>
<p>Running the <code>main</code> method produces:</p>
<pre><code>Test case 1:
Input list: 1 2 3 4
k: 2
Last person remaining: 3

Test case 2:
Input list: 1 2 3
k: 3
Last person remaining: 1

Test case 3:
Input list: 1
k: 1
Last person remaining: 1

Test case 4:
Input list: 1 2 3 4 5
k: 1
Last person remaining: 5

Test case 5:
Input list: 1 2 3 4 5 6 7
k: 4
Last person remaining: 2
</code></pre>
<p>Explanation:</p>
<ul>
<li>Test case 1: n=4, k=2, eliminate 2, 4, 1, leaving 3.</li>
<li>Test case 2: n=3, k=3, eliminate 3, 2, leaving 1.</li>
<li>Test case 3: n=1, k=1, single node 1 remains.</li>
<li>Test case 4: n=5, k=1, eliminate 1, 2, 3, 4, leaving 5.</li>
<li>Test case 5: n=7, k=4, eliminate 4, 1, 6, 5, 7, 3, leaving 2.</li>
</ul>
<h2 id="how-it-works"><a class="header" href="#how-it-works">How It Works</a></h2>
<ul>
<li><strong>Node</strong>: Stores an integer value (person number) and a <code>next</code> pointer.</li>
<li><strong>solveJosephus</strong>:
<ul>
<li>Returns -1 for empty lists, head value for single-node lists.</li>
<li>Iterates while more than one node remains:
<ul>
<li>Traverses k-1 steps to find the node before the k-th.</li>
<li>Removes k-th node by updating <code>next</code> pointer.</li>
<li>Moves to the next node.</li>
</ul>
</li>
<li>Returns the value of the last node.</li>
</ul>
</li>
<li><strong>toString</strong>: Traverses from head, uses a Set to prevent cycling, returns space-separated string or "[]".</li>
<li><strong>Example Trace (Test case 1)</strong>:
<ul>
<li>Input: 1→2→3→4→1, k=2.</li>
<li>Step 1: current=1, eliminate 2, list=1→3→4→1.</li>
<li>Step 2: current=3, eliminate 4, list=1→3→1.</li>
<li>Step 3: current=1, eliminate 1, list=3→3.</li>
<li>Return: 3.</li>
</ul>
</li>
<li><strong>Main Method</strong>: Tests different n and k, including single node and k=1.</li>
</ul>
<h2 id="complexity-analysis-table"><a class="header" href="#complexity-analysis-table">Complexity Analysis Table</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Operation</th><th>Time Complexity</th><th>Space Complexity</th></tr></thead><tbody>
<tr><td>Solve Josephus</td><td>O(n * k)</td><td>O(1)</td></tr>
<tr><td>To String</td><td>O(n)</td><td>O(n)</td></tr>
</tbody></table>
</div>
<p><em>Note</em>:</p>
<ul>
<li>n is the number of nodes in the list.</li>
<li>Time complexity: O(n * k) for solveJosephus (n-1 eliminations, each up to k steps); O(n) for toString (traverse list).</li>
<li>Space complexity: O(1) for solveJosephus (constant pointers); O(n) for toString (StringBuilder and Set).</li>
<li>Worst case: O(n * k) time, O(n) space for output with large lists and k.</li>
</ul>
<blockquote>
<p><strong>✅ Tip</strong>: Use the circular linked list’s structure to efficiently eliminate nodes by updating <code>next</code> pointers. Keep track of the current node to continue from the correct position after each elimination.</p>
</blockquote>
<blockquote>
<p><strong>⚠ Warning</strong>: Ensure k is handled correctly for each elimination step, and avoid infinite loops by checking for single-node conditions. Handle edge cases like n=1 or empty lists.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../problemStatements/ch03_03_02/InsertAfterValueCircular.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../problemStatements/ch03_03_02/RotateCircularLinkedList.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../problemStatements/ch03_03_02/InsertAfterValueCircular.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../problemStatements/ch03_03_02/RotateCircularLinkedList.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/ferris.js"></script>


    </div>
    </body>
</html>
