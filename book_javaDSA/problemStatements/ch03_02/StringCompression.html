<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>StringCompression - Java Data Structures and Algorithms for Beginners</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/ferris.css">
        <link rel="stylesheet" href="../../theme/semantic-notes.css">
        <link rel="stylesheet" href="../../theme/listing.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Java Data Structures and Algorithms for Beginners</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
body {
  text-align: justify;
}
</style>
<h1 id="string-compression"><a class="header" href="#string-compression">String Compression</a></h1>
<h2 id="problem-statement"><a class="header" href="#problem-statement">Problem Statement</a></h2>
<p>Write a Java program that implements a method to compress a string by replacing sequences of repeated characters with the character followed by the count of its consecutive occurrences (e.g., <code>"aabbb"</code> becomes <code>"a2b3"</code>). Use StringBuilder for efficiency in building the compressed string. If the compressed string is not shorter than the original, return the original string. Test the implementation with various inputs, including empty strings, single characters, and strings with no repeated characters. You can visualize this as shrinking a word by summarizing repeated letters, like condensing a repetitive chant into a shorter code, ensuring the result is as compact as possible.</p>
<p><strong>Input</strong>: A string (e.g., <code>"aabbb"</code>, <code>"abcd"</code>, <code>""</code>).
<strong>Output</strong>: The compressed string (e.g., <code>"a2b3"</code>) or the original string if compression does not reduce the length.
<strong>Constraints</strong>:</p>
<ul>
<li>String length is between 0 and 10^5.</li>
<li>The string contains only lowercase letters (a-z).</li>
<li>The input may be empty or null.
<strong>Example</strong>:</li>
<li>Input: <code>"aabbb"</code></li>
<li>Output: <code>"a2b3"</code></li>
<li>Explanation: 'a' appears twice, 'b' appears three times, so the compressed string is <code>"a2b3"</code>.</li>
<li>Input: <code>"abcd"</code></li>
<li>Output: <code>"abcd"</code></li>
<li>Explanation: No repeated characters, and <code>"a1b1c1d1"</code> is longer, so return <code>"abcd"</code>.</li>
<li>Input: <code>""</code></li>
<li>Output: <code>""</code></li>
<li>Explanation: Empty string returns empty string.</li>
</ul>
<h2 id="pseudocode"><a class="header" href="#pseudocode">Pseudocode</a></h2>
<pre><code>FUNCTION compressString(input)
    IF input is null THEN
        RETURN null
    ENDIF
    IF input is empty THEN
        RETURN empty string
    ENDIF
    CREATE stringBuilder for result
    SET count to 1
    SET currentChar to input[0]
    FOR i from 1 to length of input - 1
        IF input[i] equals currentChar THEN
            INCREMENT count
        ELSE
            APPEND currentChar to stringBuilder
            IF count &gt; 1 THEN
                APPEND count to stringBuilder
            ENDIF
            SET currentChar to input[i]
            SET count to 1
        ENDFOR
    APPEND currentChar to stringBuilder
    IF count &gt; 1 THEN
        APPEND count to stringBuilder
    ENDIF
    SET compressed to stringBuilder as string
    IF length of compressed &gt;= length of input THEN
        RETURN input
    ENDIF
    RETURN compressed
ENDFUNCTION

FUNCTION main()
    SET testStrings to array of strings including various cases
    FOR each string in testStrings
        PRINT input string
        CALL compressString(string)
        PRINT compressed string
    ENDFOR
ENDFUNCTION
</code></pre>
<h2 id="algorithm-steps"><a class="header" href="#algorithm-steps">Algorithm Steps</a></h2>
<ol>
<li>Check if the input string is null; if so, return null.</li>
<li>Check if the input string is empty; if so, return an empty string.</li>
<li>Initialize a StringBuilder for the result, a count for consecutive characters, and the first character as <code>currentChar</code>.</li>
<li>Iterate through the string from index 1:
a. If the current character equals <code>currentChar</code>, increment the count.
b. Otherwise, append <code>currentChar</code> to StringBuilder; if count &gt; 1, append the count.
c. Update <code>currentChar</code> to the current character and reset count to 1.</li>
<li>After the loop, append the final <code>currentChar</code> and its count (if &gt; 1).</li>
<li>If the compressed string’s length is not less than the original, return the original string.</li>
<li>Return the compressed string.</li>
<li>In the <code>main</code> method, test with various strings, including empty, single-character, repeated characters, and no repeats.</li>
</ol>
<h2 id="java-implementation"><a class="header" href="#java-implementation">Java Implementation</a></h2>
<pre><code class="language-java">public class StringCompression {
    // Compresses a string using StringBuilder
    public String compressString(String input) {
        if (input == null) {
            return null;
        }
        if (input.isEmpty()) {
            return "";
        }
        StringBuilder result = new StringBuilder();
        int count = 1;
        char currentChar = input.charAt(0);
        // Iterate through string starting from index 1
        for (int i = 1; i &lt; input.length(); i++) {
            if (input.charAt(i) == currentChar) {
                count++;
            } else {
                result.append(currentChar);
                if (count &gt; 1) {
                    result.append(count);
                }
                currentChar = input.charAt(i);
                count = 1;
            }
        }
        // Append the last character and its count
        result.append(currentChar);
        if (count &gt; 1) {
            result.append(count);
        }
        // Return original if compressed length is not shorter
        String compressed = result.toString();
        return compressed.length() &gt;= input.length() ? input : compressed;
    }

    // Main method to test compressString with various inputs
    public static void main(String[] args) {
        StringCompression compressor = new StringCompression();

        // Test cases
        String[] testStrings = {
            "aabbb",           // Repeated characters
            "abcd",           // No repeats
            "",               // Empty string
            "a",              // Single character
            "aabbcc",         // Multiple repeated characters
            "aaaa",           // All same character
            null              // Null input
        };

        for (int i = 0; i &lt; testStrings.length; i++) {
            System.out.println("Test case " + (i + 1) + ":");
            System.out.println("Input: \"" + testStrings[i] + "\"");
            String result = compressor.compressString(testStrings[i]);
            System.out.println("Compressed: \"" + result + "\"\n");
        }
    }
}
</code></pre>
<h2 id="output"><a class="header" href="#output">Output</a></h2>
<p>Running the <code>main</code> method produces:</p>
<pre><code>Test case 1:
Input: "aabbb"
Compressed: "a2b3"

Test case 2:
Input: "abcd"
Compressed: "abcd"

Test case 3:
Input: ""
Compressed: ""

Test case 4:
Input: "a"
Compressed: "a"

Test case 5:
Input: "aabbcc"
Compressed: "a2b2c2"

Test case 6:
Input: "aaaa"
Compressed: "a4"

Test case 7:
Input: "null"
Compressed: "null"
</code></pre>
<p>Explanation:</p>
<ul>
<li>Test case 1: <code>"aabbb"</code> → <code>"a2b3"</code> (2 'a's, 3 'b's).</li>
<li>Test case 2: <code>"abcd"</code> → <code>"abcd"</code> (no repeats, <code>"a1b1c1d1"</code> is longer).</li>
<li>Test case 3: Empty string <code>""</code> → <code>""</code>.</li>
<li>Test case 4: <code>"a"</code> → <code>"a"</code> (single character, <code>"a1"</code> is longer).</li>
<li>Test case 5: <code>"aabbcc"</code> → <code>"a2b2c2"</code> (each character repeated twice).</li>
<li>Test case 6: <code>"aaaa"</code> → <code>"a4"</code> (4 'a's).</li>
<li>Test case 7: <code>null</code> → <code>null</code>.</li>
</ul>
<h2 id="how-it-works"><a class="header" href="#how-it-works">How It Works</a></h2>
<ul>
<li><strong>Step 1</strong>: Check for null or empty input; return null or empty string as needed.</li>
<li><strong>Step 2</strong>: Initialize StringBuilder, set <code>count = 1</code>, and <code>currentChar</code> to the first character.</li>
<li><strong>Step 3</strong>: Iterate from index 1:
<ul>
<li>If current character matches <code>currentChar</code>, increment <code>count</code>.</li>
<li>Else, append <code>currentChar</code> and <code>count</code> (if &gt; 1), reset <code>currentChar</code> and <code>count</code>.</li>
</ul>
</li>
<li><strong>Step 4</strong>: Append final <code>currentChar</code> and <code>count</code> (if &gt; 1).</li>
<li><strong>Step 5</strong>: Compare lengths; return original if compressed length is not shorter.</li>
<li><strong>Example Trace (Test case 1)</strong>:
<ul>
<li>Input: <code>"aabbb"</code>.</li>
<li>Initialize: <code>result = ""</code>, <code>currentChar = 'a'</code>, <code>count = 1</code>.</li>
<li>i=1: <code>'a'</code> matches <code>'a'</code>, <code>count = 2</code>.</li>
<li>i=2: <code>'b'</code> differs, append <code>"a2"</code>, set <code>currentChar = 'b'</code>, <code>count = 1</code>.</li>
<li>i=3: <code>'b'</code> matches, <code>count = 2</code>.</li>
<li>i=4: <code>'b'</code> matches, <code>count = 3</code>.</li>
<li>End: Append <code>"b3"</code>, result = <code>"a2b3"</code>.</li>
<li>Length check: <code>"a2b3"</code> (4) &lt; <code>"aabbb"</code> (5) → return <code>"a2b3"</code>.</li>
</ul>
</li>
<li><strong>Main Method</strong>: Tests with repeated characters, no repeats, empty, single character, and null inputs.</li>
</ul>
<h2 id="complexity-analysis-table"><a class="header" href="#complexity-analysis-table">Complexity Analysis Table</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Operation</th><th>Time Complexity</th><th>Space Complexity</th></tr></thead><tbody>
<tr><td>Compression</td><td>O(n)</td><td>O(n)</td></tr>
<tr><td>Full Algorithm</td><td>O(n)</td><td>O(n)</td></tr>
</tbody></table>
</div>
<p><em>Note</em>:</p>
<ul>
<li>n is the length of the input string.</li>
<li>Time complexity: O(n) for iterating through the string once.</li>
<li>Space complexity: O(n) for the StringBuilder to store the compressed string.</li>
<li>Best, average, and worst cases are O(n) time and O(n) space.</li>
</ul>
<blockquote>
<p><strong>✅ Tip</strong>: Use StringBuilder to efficiently build the compressed string. Test with strings that have no repeats or all repeats to verify the length comparison logic.</p>
</blockquote>
<blockquote>
<p><strong>⚠ Warning</strong>: Ensure the compressed string is compared with the original length to return the shorter one. Check for null input to avoid <code>NullPointerException</code>.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../problemStatements/ch03_02/ReverseString.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../problemStatements/ch03_02/StringPoolExperiment.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../problemStatements/ch03_02/ReverseString.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../problemStatements/ch03_02/StringPoolExperiment.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/ferris.js"></script>


    </div>
    </body>
</html>
