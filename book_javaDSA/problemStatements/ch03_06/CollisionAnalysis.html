<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>CollisionAnalysis - Java Data Structures and Algorithms for Beginners</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/ferris.css">
        <link rel="stylesheet" href="../../theme/semantic-notes.css">
        <link rel="stylesheet" href="../../theme/listing.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Java Data Structures and Algorithms for Beginners</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
body {
  text-align: justify;
}
</style>
<h1 id="collision-analysis"><a class="header" href="#collision-analysis">Collision Analysis</a></h1>
<h2 id="problem-statement"><a class="header" href="#problem-statement">Problem Statement</a></h2>
<p>Write a Java program that implements a custom hash table to track the number of collisions, where multiple keys map to the same array index. The hash table should use an array with chaining (linked lists) to handle collisions, with strings as keys and integers as values. A collision occurs when a key hashes to an index that already contains one or more keys. The program should provide methods to insert keys and report the total number of collisions, then test the implementation with different sets of keys, including cases with high collision rates, few collisions, and edge cases like empty sets or single keys. You can visualize this as organizing items into labeled bins, counting how often multiple items land in the same bin due to their labels hashing to the same position.</p>
<p><strong>Input</strong>:</p>
<ul>
<li>A set of string keys to insert into the hash table.
<strong>Output</strong>: The number of collisions and the hash table contents (key-value pairs per index).
<strong>Constraints</strong>:</li>
<li>The hash table size (array length) is fixed at 10 for simplicity.</li>
<li>Keys are non-empty strings of up to 100 characters.</li>
<li>Values are integers (e.g., 1 for each key inserted).</li>
<li>The number of keys is between 0 and 10^5.
<strong>Example</strong>:</li>
<li>Input: Keys = ["cat", "act", "dog", "god"]</li>
<li>Output:
<pre><code>Collisions: 2
Hash Table:
Index 0: []
Index 1: []
Index 2: [cat: 1, act: 1]
Index 3: []
Index 4: []
Index 5: [dog: 1, god: 1]
Index 6: []
Index 7: []
Index 8: []
Index 9: []
</code></pre>
</li>
<li>Explanation: "cat" and "act" collide at index 2, "dog" and "god" collide at index 5, resulting in 2 collisions.</li>
<li>Input: Keys = []</li>
<li>Output:
<pre><code>Collisions: 0
Hash Table:
Index 0: []
...
Index 9: []
</code></pre>
</li>
</ul>
<h2 id="pseudocode"><a class="header" href="#pseudocode">Pseudocode</a></h2>
<pre><code>CLASS Node
    SET key to string
    SET value to integer
    SET next to Node (null by default)
ENDCLASS

CLASS HashTable
    SET table to array of Node pointers (size 10)
    SET collisionCount to 0

    FUNCTION hash(key)
        SET sum to 0
        FOR each character in key
            ADD character ASCII value to sum
        ENDFOR
        RETURN sum mod 10
    ENDFUNCTION

    FUNCTION insert(key, value)
        SET index to hash(key)
        IF table[index] is null THEN
            SET table[index] to new Node(key, value)
        ELSE
            INCREMENT collisionCount
            SET current to table[index]
            WHILE current is not null
                IF current.key equals key THEN
                    SET current.value to value
                    RETURN
                ENDIF
                SET current to current.next
            ENDWHILE
            CREATE newNode as new Node(key, value)
            SET newNode.next to table[index]
            SET table[index] to newNode
        ENDIF
    ENDFUNCTION

    FUNCTION getCollisionCount()
        RETURN collisionCount
    ENDFUNCTION

    FUNCTION toString()
        CREATE result as new StringBuilder
        FOR i from 0 to table size - 1
            APPEND "Index " and i and ": [" to result
            SET current to table[i]
            WHILE current is not null
                APPEND current.key and ": " and current.value to result
                IF current.next is not null THEN
                    APPEND ", " to result
                ENDIF
                SET current to current.next
            ENDWHILE
            APPEND "]" to result
            IF i is not last index THEN
                APPEND newline to result
            ENDIF
        ENDFOR
        RETURN result as string
    ENDFUNCTION
ENDCLASS

FUNCTION main()
    SET testCases to array of key sets
    FOR each testCase in testCases
        PRINT test case details
        CREATE hashTable as new HashTable
        FOR each key in testCase
            CALL hashTable.insert(key, 1)
        ENDFOR
        PRINT collision count
        PRINT hash table contents using toString
    ENDFOR
ENDFUNCTION
</code></pre>
<h2 id="algorithm-steps"><a class="header" href="#algorithm-steps">Algorithm Steps</a></h2>
<ol>
<li>Define a <code>Node</code> class with:
a. A string <code>key</code>.
b. An integer <code>value</code>.
c. A <code>next</code> pointer for chaining.</li>
<li>Define a <code>HashTable</code> class with:
a. A fixed-size array (<code>table</code>) of size 10.
b. A <code>collisionCount</code> to track collisions.
c. <code>hash</code>: Compute index by summing ASCII values of key characters modulo 10.
d. <code>insert</code>: Insert key-value pair, increment <code>collisionCount</code> if index is occupied, handle duplicates.
e. <code>getCollisionCount</code>: Return collision count.
f. <code>toString</code>: Print key-value pairs per index.</li>
<li>In <code>main</code>, test with key sets:
a. Keys with collisions (e.g., anagrams).
b. Keys with no collisions.
c. Empty set.
d. Single key.
e. Large set with high collision rate.</li>
</ol>
<h2 id="java-implementation"><a class="header" href="#java-implementation">Java Implementation</a></h2>
<pre><code class="language-java">import java.util.*;

public class CollisionAnalysis {
    // Node class for chaining
    static class Node {
        String key;
        int value;
        Node next;

        Node(String key, int value) {
            this.key = key;
            this.value = value;
            this.next = null;
        }
    }

    // Custom hash table with collision tracking
    static class HashTable {
        private Node[] table;
        private int collisionCount;

        public HashTable() {
            table = new Node[10];
            collisionCount = 0;
        }

        private int hash(String key) {
            int sum = 0;
            for (char c : key.toCharArray()) {
                sum += c;
            }
            return sum % 10;
        }

        public void insert(String key, int value) {
            int index = hash(key);
            if (table[index] == null) {
                table[index] = new Node(key, value);
            } else {
                collisionCount++;
                Node current = table[index];
                while (current != null) {
                    if (current.key.equals(key)) {
                        current.value = value;
                        return;
                    }
                    current = current.next;
                }
                Node newNode = new Node(key, value);
                newNode.next = table[index];
                table[index] = newNode;
            }
        }

        public int getCollisionCount() {
            return collisionCount;
        }

        public String toString() {
            StringBuilder result = new StringBuilder();
            for (int i = 0; i &lt; table.length; i++) {
                result.append("Index ").append(i).append(": [");
                Node current = table[i];
                while (current != null) {
                    result.append(current.key).append(": ").append(current.value);
                    if (current.next != null) {
                        result.append(", ");
                    }
                    current = current.next;
                }
                result.append("]");
                if (i &lt; table.length - 1) {
                    result.append("\n");
                }
            }
            return result.toString();
        }
    }

    // Main method to test collision analysis
    public static void main(String[] args) {
        CollisionAnalysis analyzer = new CollisionAnalysis();

        // Test cases
        String[][] testCases = {
            {"cat", "act", "dog", "god"},           // High collisions (anagrams)
            {"apple", "banana", "cherry"},          // No collisions
            {},                                     // Empty set
            {"single"},                             // Single key
            {"key1", "key2", "key3", "key4", "key5", "yek1", "yek2"} // High collisions
        };

        // Run test cases
        for (int i = 0; i &lt; testCases.length; i++) {
            System.out.println("Test case " + (i + 1) + ":");
            System.out.println("Input keys: " + Arrays.toString(testCases[i]));
            HashTable hashTable = new HashTable();
            for (String key : testCases[i]) {
                hashTable.insert(key, 1);
            }
            System.out.println("Collisions: " + hashTable.getCollisionCount());
            System.out.println("Hash Table:\n" + hashTable.toString() + "\n");
        }
    }
}
</code></pre>
<h2 id="output"><a class="header" href="#output">Output</a></h2>
<p>Running the <code>main</code> method produces:</p>
<pre><code>Test case 1:
Input keys: [cat, act, dog, god]
Collisions: 2
Hash Table:
Index 0: []
Index 1: []
Index 2: [act: 1, cat: 1]
Index 3: []
Index 4: []
Index 5: [god: 1, dog: 1]
Index 6: []
Index 7: []
Index 8: []
Index 9: []

Test case 2:
Input keys: [apple, banana, cherry]
Collisions: 0
Hash Table:
Index 0: []
Index 1: []
Index 2: []
Index 3: []
Index 4: [cherry: 1]
Index 5: []
Index 6: []
Index 7: [apple: 1]
Index 8: []
Index 9: [banana: 1]

Test case 3:
Input keys: []
Collisions: 0
Hash Table:
Index 0: []
Index 1: []
Index 2: []
Index 3: []
Index 4: []
Index 5: []
Index 6: []
Index 7: []
Index 8: []
Index 9: []

Test case 4:
Input keys: [single]
Collisions: 0
Hash Table:
Index 0: []
Index 1: []
Index 2: []
Index 3: []
Index 4: []
Index 5: []
Index 6: [single: 1]
Index 7: []
Index 8: []
Index 9: []

Test case 5:
Input keys: [key1, key2, key3, key4, key5, yek1, yek2]
Collisions: 4
Hash Table:
Index 0: []
Index 1: []
Index 2: []
Index 3: []
Index 4: [key5: 1, key4: 1, key3: 1]
Index 5: []
Index 6: []
Index 7: []
Index 8: []
Index 9: [yek2: 1, yek1: 1, key2: 1, key1: 1]
</code></pre>
<p>Explanation:</p>
<ul>
<li>Test case 1: "cat" and "act" collide at index 2, "dog" and "god" at index 5 (2 collisions).</li>
<li>Test case 2: No collisions, keys map to distinct indices.</li>
<li>Test case 3: Empty set, no collisions.</li>
<li>Test case 4: Single key, no collisions.</li>
<li>Test case 5: Multiple keys collide at indices 4 and 9 (4 collisions).</li>
</ul>
<h2 id="how-it-works"><a class="header" href="#how-it-works">How It Works</a></h2>
<ul>
<li><strong>Node</strong>: Stores a string key, integer value, and <code>next</code> pointer for chaining.</li>
<li><strong>HashTable</strong>:
<ul>
<li>Uses a fixed-size array (size 10) with linked lists for chaining.</li>
<li><code>hash</code>: Sums ASCII values of key characters modulo 10.</li>
<li><code>insert</code>: Inserts key-value pair, increments <code>collisionCount</code> if index occupied, updates value for duplicates.</li>
<li><code>getCollisionCount</code>: Returns collision count.</li>
<li><code>toString</code>: Prints key-value pairs per index.</li>
</ul>
</li>
<li><strong>Example Trace (Test case 1)</strong>:
<ul>
<li>Insert "cat": index=2, table[2]=[cat:1], collisions=0.</li>
<li>Insert "act": index=2, table[2]=[act:1,cat:1], collisions=1.</li>
<li>Insert "dog": index=5, table[5]=[dog:1], collisions=1.</li>
<li>Insert "god": index=5, table[5]=[god:1,dog:1], collisions=2.</li>
<li>Output: Collisions=2, table shows lists at indices 2 and 5.</li>
</ul>
</li>
<li><strong>Main Method</strong>: Tests high collisions, no collisions, empty set, single key, and large set.</li>
</ul>
<h2 id="complexity-analysis-table"><a class="header" href="#complexity-analysis-table">Complexity Analysis Table</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Operation</th><th>Time Complexity</th><th>Space Complexity</th></tr></thead><tbody>
<tr><td>Insert</td><td>O(1) average</td><td>O(1)</td></tr>
<tr><td>Get Collision Count</td><td>O(1)</td><td>O(1)</td></tr>
<tr><td>To String</td><td>O(n)</td><td>O(n)</td></tr>
</tbody></table>
</div>
<p><em>Note</em>:</p>
<ul>
<li>n is the number of keys in the hash table.</li>
<li>Time complexity: O(1) average for insert (hashing and list insertion); O(1) for getCollisionCount; O(n) for toString (iterate all keys).</li>
<li>Space complexity: O(1) for insert and getCollisionCount; O(n) for toString (StringBuilder output).</li>
<li>Worst case: O(n) time for insert (many keys in one index), O(n) space for toString.</li>
</ul>
<blockquote>
<p><strong>✅ Tip</strong>: Use a simple hash function for educational purposes, but ensure it distributes keys evenly to minimize collisions. Track collisions by incrementing a counter when an index is already occupied.</p>
</blockquote>
<blockquote>
<p><strong>⚠ Warning</strong>: A poor hash function (e.g., summing ASCII values) may cause excessive collisions. Test with diverse key sets to verify collision behavior, and handle duplicates to avoid redundant entries.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../problemStatements/hasingProblemSolving.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../problemStatements/ch03_06/CustomHashFunction.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../problemStatements/hasingProblemSolving.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../problemStatements/ch03_06/CustomHashFunction.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/ferris.js"></script>


    </div>
    </body>
</html>
