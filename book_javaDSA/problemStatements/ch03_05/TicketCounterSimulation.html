<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>TicketCounterSimulation - Java Data Structures and Algorithms for Beginners</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/ferris.css">
        <link rel="stylesheet" href="../../theme/semantic-notes.css">
        <link rel="stylesheet" href="../../theme/listing.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Java Data Structures and Algorithms for Beginners</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
body {
  text-align: justify;
}
</style>
<h1 id="ticket-counter-simulation"><a class="header" href="#ticket-counter-simulation">Ticket Counter Simulation</a></h1>
<h2 id="problem-statement"><a class="header" href="#problem-statement">Problem Statement</a></h2>
<p>Write a Java program that simulates a ticket counter system where customers, represented by names (strings), join a queue and are served in first-in, first-out (FIFO) order. The program should allow users to enqueue customers, dequeue them to simulate serving, and display the current queue size after each operation. Test the implementation with various sequences of enqueue and dequeue operations, including edge cases like empty queues and null customer names. You can visualize this as a ticket counter at a movie theater, where customers line up, are served one by one, and the staff tracks how many people are still waiting.</p>
<p><strong>Input</strong>: A sequence of operations, where each operation is either:</p>
<ul>
<li>Enqueue: Add a customer name (string) to the queue (e.g., "Alice").</li>
<li>Dequeue: Remove and serve the next customer from the queue.</li>
<li>Size: Display the current number of customers in the queue.
<strong>Output</strong>: For each operation, print the action performed (enqueue, dequeue, or size) and the result, such as the served customer, queue size, or error messages for empty queues.
<strong>Constraints</strong>:</li>
<li>Queue size is between 0 and 10^5.</li>
<li>Customer names are non-empty strings containing printable ASCII characters, or null (handled gracefully).</li>
<li>The queue may be empty when dequeue or size is called.
<strong>Example</strong>:</li>
<li>Input: Operations = [enqueue("Alice"), enqueue("Bob"), size, dequeue, size, enqueue("Charlie"), dequeue]</li>
<li>Output:
<pre><code>Enqueued Alice
Enqueued Bob
Queue size: 2
Served customer: Alice
Queue size: 1
Enqueued Charlie
Served customer: Bob
</code></pre>
</li>
<li>Explanation: Customers join and are served in order, with queue size reported as requested.</li>
<li>Input: Operations = [dequeue on empty queue]</li>
<li>Output: <code>Queue empty, cannot dequeue</code></li>
</ul>
<h2 id="pseudocode"><a class="header" href="#pseudocode">Pseudocode</a></h2>
<pre><code>CLASS StringQueue
    SET array to new string array of size 1000
    SET front to 0
    SET rear to -1
    SET size to 0
    
    FUNCTION enqueue(name)
        IF size equals array length THEN
            RETURN false (queue full)
        ENDIF
        INCREMENT rear
        SET array[rear] to name
        INCREMENT size
        RETURN true
    ENDFUNCTION
    
    FUNCTION dequeue()
        IF size equals 0 THEN
            RETURN null (queue empty)
        ENDIF
        SET name to array[front]
        INCREMENT front
        DECREMENT size
        RETURN name
    ENDFUNCTION
    
    FUNCTION size()
        RETURN size
    ENDFUNCTION
    
    FUNCTION isEmpty()
        RETURN size equals 0
    ENDFUNCTION
ENDCLASS

FUNCTION simulateTicketCounter(operations)
    CREATE queue as new StringQueue
    FOR each operation in operations
        IF operation.type equals "enqueue" THEN
            CALL queue.enqueue(operation.name)
            PRINT enqueued name
        ELSE IF operation.type equals "dequeue" THEN
            SET name to queue.dequeue()
            IF name is null THEN
                PRINT queue empty message
            ELSE
                PRINT served customer name
            ENDIF
        ELSE IF operation.type equals "size" THEN
            PRINT queue size
        ENDIF
    ENDFOR
ENDFUNCTION

FUNCTION main()
    SET testCases to array of operation sequences
    FOR each testCase in testCases
        PRINT test case details
        CALL simulateTicketCounter(testCase)
    ENDFOR
ENDFUNCTION
</code></pre>
<h2 id="algorithm-steps"><a class="header" href="#algorithm-steps">Algorithm Steps</a></h2>
<ol>
<li>Define a <code>StringQueue</code> class with:
a. An array to store customer names, with <code>front</code>, <code>rear</code>, and <code>size</code> to track queue state.
b. Methods: <code>enqueue</code> (add to rear), <code>dequeue</code> (remove from front), <code>size</code> (return current size), <code>isEmpty</code> (check if empty).</li>
<li>In the <code>simulateTicketCounter</code> method:
a. Create a new <code>StringQueue</code>.
b. For each operation:
<ul>
<li>If "enqueue", add the customer name and print the action.</li>
<li>If "dequeue", remove the next customer, print the served customer or "Queue empty".</li>
<li>If "size", print the current queue size.</li>
</ul>
</li>
<li>In the <code>main</code> method, test with sequences of enqueue, dequeue, and size operations, including empty queues, single customers, and null names.</li>
</ol>
<h2 id="java-implementation"><a class="header" href="#java-implementation">Java Implementation</a></h2>
<pre><code class="language-java">import java.util.*;

public class TicketCounterSimulation {
    // Custom queue implementation for strings
    static class StringQueue {
        private String[] array;
        private int front;
        private int rear;
        private int size;
        private static final int DEFAULT_SIZE = 1000;

        public StringQueue() {
            array = new String[DEFAULT_SIZE];
            front = 0;
            rear = -1;
            size = 0;
        }

        public boolean enqueue(String name) {
            if (size == array.length) {
                return false; // Queue full
            }
            array[++rear] = name;
            size++;
            return true;
        }

        public String dequeue() {
            if (size == 0) {
                return null; // Queue empty
            }
            String name = array[front++];
            size--;
            return name;
        }

        public int size() {
            return size;
        }

        public boolean isEmpty() {
            return size == 0;
        }
    }

    // Helper class for operations
    static class Operation {
        String type;
        String name; // For enqueue operations

        Operation(String type, String name) {
            this.type = type;
            this.name = name;
        }
    }

    // Simulates ticket counter system
    public void simulateTicketCounter(List&lt;Operation&gt; operations) {
        StringQueue queue = new StringQueue();
        for (Operation op : operations) {
            if (op.type.equals("enqueue")) {
                boolean success = queue.enqueue(op.name);
                if (success) {
                    System.out.println("Enqueued " + (op.name != null ? op.name : "null"));
                } else {
                    System.out.println("Enqueue " + (op.name != null ? op.name : "null") + " failed: Queue full");
                }
            } else if (op.type.equals("dequeue")) {
                String name = queue.dequeue();
                if (name == null) {
                    System.out.println("Queue empty, cannot dequeue");
                } else {
                    System.out.println("Served customer: " + name);
                }
            } else if (op.type.equals("size")) {
                System.out.println("Queue size: " + queue.size());
            }
        }
    }

    // Main method to test ticket counter simulation
    public static void main(String[] args) {
        TicketCounterSimulation simulator = new TicketCounterSimulation();

        // Test cases
        List&lt;List&lt;Operation&gt;&gt; testCases = new ArrayList&lt;&gt;();
        
        // Test case 1: Normal sequence
        List&lt;Operation&gt; case1 = Arrays.asList(
            new Operation("enqueue", "Alice"),
            new Operation("enqueue", "Bob"),
            new Operation("size", null),
            new Operation("dequeue", null),
            new Operation("size", null),
            new Operation("enqueue", "Charlie"),
            new Operation("dequeue", null)
        );
        testCases.add(case1);
        
        // Test case 2: Empty queue
        List&lt;Operation&gt; case2 = Arrays.asList(
            new Operation("dequeue", null),
            new Operation("size", null)
        );
        testCases.add(case2);
        
        // Test case 3: Single customer
        List&lt;Operation&gt; case3 = Arrays.asList(
            new Operation("enqueue", "David"),
            new Operation("size", null),
            new Operation("dequeue", null)
        );
        testCases.add(case3);
        
        // Test case 4: Multiple enqueues and dequeues
        List&lt;Operation&gt; case4 = Arrays.asList(
            new Operation("enqueue", "Eve"),
            new Operation("enqueue", "Frank"),
            new Operation("enqueue", "Grace"),
            new Operation("size", null),
            new Operation("dequeue", null),
            new Operation("dequeue", null),
            new Operation("size", null)
        );
        testCases.add(case4);
        
        // Test case 5: Null customer name
        List&lt;Operation&gt; case5 = Arrays.asList(
            new Operation("enqueue", null),
            new Operation("size", null),
            new Operation("dequeue", null)
        );
        testCases.add(case5);

        // Run test cases
        for (int i = 0; i &lt; testCases.size(); i++) {
            System.out.println("Test case " + (i + 1) + ":");
            simulator.simulateTicketCounter(testCases.get(i));
            System.out.println();
        }
    }
}
</code></pre>
<h2 id="output"><a class="header" href="#output">Output</a></h2>
<p>Running the <code>main</code> method produces:</p>
<pre><code>Test case 1:
Enqueued Alice
Enqueued Bob
Queue size: 2
Served customer: Alice
Queue size: 1
Enqueued Charlie
Served customer: Bob

Test case 2:
Queue empty, cannot dequeue
Queue size: 0

Test case 3:
Enqueued David
Queue size: 1
Served customer: David

Test case 4:
Enqueued Eve
Enqueued Frank
Enqueued Grace
Queue size: 3
Served customer: Eve
Served customer: Frank
Queue size: 1

Test case 5:
Enqueued null
Queue size: 1
Served customer: null
</code></pre>
<p>Explanation:</p>
<ul>
<li>Test case 1: Enqueues Alice, Bob; reports size 2; dequeues Alice; reports size 1; enqueues Charlie; dequeues Bob.</li>
<li>Test case 2: Dequeue and size on empty queue return error and 0.</li>
<li>Test case 3: Enqueues David, reports size 1, dequeues David.</li>
<li>Test case 4: Enqueues three customers, reports size 3, dequeues two, reports size 1.</li>
<li>Test case 5: Enqueues null name, reports size 1, dequeues null.</li>
</ul>
<h2 id="how-it-works"><a class="header" href="#how-it-works">How It Works</a></h2>
<ul>
<li><strong>StringQueue</strong>:
<ul>
<li>Uses an array with <code>front</code>, <code>rear</code>, and <code>size</code> to manage customer names in FIFO order.</li>
<li><code>enqueue</code>: Adds to rear if not full.</li>
<li><code>dequeue</code>: Removes from front if not empty.</li>
<li><code>size</code>: Returns current number of customers.</li>
</ul>
</li>
<li><strong>simulateTicketCounter</strong>:
<ul>
<li>Enqueues customers, printing the action.</li>
<li>Dequeues customers, printing the served customer or "Queue empty".</li>
<li>Reports queue size when requested.</li>
</ul>
</li>
<li><strong>Example Trace (Test case 1)</strong>:
<ul>
<li>Enqueue "Alice": array=["Alice"], front=0, rear=0, size=1.</li>
<li>Enqueue "Bob": array=["Alice","Bob"], front=0, rear=1, size=2.</li>
<li>Size: Returns 2.</li>
<li>Dequeue: Returns "Alice", array=["-","Bob"], front=1, rear=1, size=1.</li>
<li>Size: Returns 1.</li>
<li>Enqueue "Charlie": array=["-","Bob","Charlie"], front=1, rear=2, size=2.</li>
<li>Dequeue: Returns "Bob", array=["-","-","Charlie"], front=2, rear=2, size=1.</li>
</ul>
</li>
<li><strong>Main Method</strong>: Tests normal sequences, empty queue, single customer, multiple operations, and null name.</li>
</ul>
<h2 id="complexity-analysis-table"><a class="header" href="#complexity-analysis-table">Complexity Analysis Table</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Operation</th><th>Time Complexity</th><th>Space Complexity</th></tr></thead><tbody>
<tr><td>Enqueue/Dequeue</td><td>O(1)</td><td>O(1)</td></tr>
<tr><td>Size</td><td>O(1)</td><td>O(1)</td></tr>
<tr><td>Full Algorithm</td><td>O(n)</td><td>O(n)</td></tr>
</tbody></table>
</div>
<p><em>Note</em>:</p>
<ul>
<li>n is the number of operations.</li>
<li>Time complexity: O(1) for each enqueue, dequeue, or size; O(n) for n operations.</li>
<li>Space complexity: O(n) for the queue storing up to n customers.</li>
<li>Worst case: O(n) time and O(n) space for many enqueue operations.</li>
</ul>
<blockquote>
<p><strong>✅ Tip</strong>: Use a queue for a ticket counter simulation, as its FIFO nature ensures customers are served in arrival order. Test with size queries to verify queue state after operations.</p>
</blockquote>
<blockquote>
<p><strong>⚠ Warning</strong>: Handle null names and empty queue cases to avoid unexpected behavior. Ensure the queue size is sufficient to accommodate the input sequence.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../problemStatements/ch03_05/QueueReversal.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../problemStatements/ch03_05_01/DijkstrasAlgorithm.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../problemStatements/ch03_05/QueueReversal.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../problemStatements/ch03_05_01/DijkstrasAlgorithm.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/ferris.js"></script>


    </div>
    </body>
</html>
