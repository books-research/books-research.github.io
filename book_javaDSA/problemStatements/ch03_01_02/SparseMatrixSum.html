<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>SparseMatrixSum - Java Data Structures and Algorithms for Beginners</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/ferris.css">
        <link rel="stylesheet" href="../../theme/semantic-notes.css">
        <link rel="stylesheet" href="../../theme/listing.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Java Data Structures and Algorithms for Beginners</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
body {
  text-align: justify;
}
</style>
<h1 id="sparse-matrix-sum"><a class="header" href="#sparse-matrix-sum">Sparse Matrix Sum</a></h1>
<h2 id="problem-statement"><a class="header" href="#problem-statement">Problem Statement</a></h2>
<p>Write a Java program that represents a sparse matrix using a jagged array (a 2D array where each row can have a different length) and computes the sum of all non-zero elements. The program should return the sum as a long integer and test the implementation with matrices of varying row lengths, including edge cases like empty matrices, matrices with empty rows, and matrices with all zeros. You can visualize this as calculating the total value of non-zero items in a grid where each row may have a different number of columns, like summing the values of scattered resources in an uneven terrain map.</p>
<p><strong>Input</strong>: A jagged 2D array of integers, where each row may have a different length (e.g., <code>matrix = {{1, 0, 2}, {3}, {0, 4, 5, 0}}</code>).
<strong>Output</strong>: A long integer representing the sum of all non-zero elements (e.g., 15 for the example above).
<strong>Constraints</strong>:</p>
<ul>
<li>The number of rows is between 0 and 100.</li>
<li>Each row’s length is between 0 and 100.</li>
<li>Elements are integers between -10^4 and 10^4.</li>
<li>The matrix may be empty or contain empty rows.
<strong>Example</strong>:</li>
<li>Input: <code>matrix = {{1, 0, 2}, {3}, {0, 4, 5, 0}}</code></li>
<li>Output: 15</li>
<li>Explanation: Non-zero elements are 1, 2, 3, 4, 5; sum = 1 + 2 + 3 + 4 + 5 = 15.</li>
<li>Input: <code>matrix = {{0, 0}, {0}, {}}</code></li>
<li>Output: 0</li>
<li>Explanation: No non-zero elements, so sum = 0.</li>
</ul>
<h2 id="pseudocode"><a class="header" href="#pseudocode">Pseudocode</a></h2>
<pre><code>FUNCTION sumSparseMatrix(matrix)
    IF matrix is null OR matrix is empty THEN
        RETURN 0
    ENDIF
    SET sum to 0
    FOR each row in matrix
        IF row is not null THEN
            FOR each element in row
                IF element is not zero THEN
                    SET sum to sum + element
                ENDIF
            ENDFOR
        ENDIF
    ENDFOR
    RETURN sum
ENDFUNCTION

FUNCTION main()
    SET testMatrices to jagged 2D arrays
    FOR each matrix in testMatrices
        CALL sumSparseMatrix(matrix)
        PRINT result
    ENDFOR
ENDFUNCTION
</code></pre>
<h2 id="algorithm-steps"><a class="header" href="#algorithm-steps">Algorithm Steps</a></h2>
<ol>
<li>Check if the input matrix is null or empty. If so, return 0.</li>
<li>Initialize a variable <code>sum</code> to 0.</li>
<li>Iterate through each row of the matrix:
a. Check if the row is not null.
b. Iterate through each element in the row.
c. If the element is non-zero, add it to <code>sum</code>.</li>
<li>Return the final <code>sum</code>.</li>
<li>In the <code>main</code> method, create test matrices with varying row lengths and call <code>sumSparseMatrix</code> to verify correctness.</li>
</ol>
<h2 id="java-implementation"><a class="header" href="#java-implementation">Java Implementation</a></h2>
<pre><code class="language-java">public class SparseMatrixSum {
    // Computes the sum of non-zero elements in a jagged 2D array
    public long sumSparseMatrix(int[][] matrix) {
        // Check for null or empty matrix
        if (matrix == null || matrix.length == 0) {
            return 0;
        }
        // Initialize sum
        long sum = 0;
        // Iterate through each row
        for (int[] row : matrix) {
            // Check for non-null row
            if (row != null) {
                // Iterate through each element in the row
                for (int element : row) {
                    // Add non-zero elements to sum
                    if (element != 0) {
                        sum += element;
                    }
                }
            }
        }
        return sum;
    }

    // Main method to test sumSparseMatrix with various inputs
    public static void main(String[] args) {
        SparseMatrixSum summer = new SparseMatrixSum();

        // Test case 1: Jagged matrix with non-zero elements
        int[][] matrix1 = {{1, 0, 2}, {3}, {0, 4, 5, 0}};
        System.out.println("Test case 1:");
        System.out.println("Matrix:");
        printMatrix(matrix1);
        System.out.println("Sum of non-zero elements: " + summer.sumSparseMatrix(matrix1));

        // Test case 2: Matrix with all zeros
        int[][] matrix2 = {{0, 0}, {0}, {0, 0}};
        System.out.println("Test case 2:");
        System.out.println("Matrix:");
        printMatrix(matrix2);
        System.out.println("Sum of non-zero elements: " + summer.sumSparseMatrix(matrix2));

        // Test case 3: Matrix with empty rows
        int[][] matrix3 = {{}, {1, 2}, {}};
        System.out.println("Test case 3:");
        System.out.println("Matrix:");
        printMatrix(matrix3);
        System.out.println("Sum of non-zero elements: " + summer.sumSparseMatrix(matrix3));

        // Test case 4: Single-row matrix
        int[][] matrix4 = {{1, 0, 3}};
        System.out.println("Test case 4:");
        System.out.println("Matrix:");
        printMatrix(matrix4);
        System.out.println("Sum of non-zero elements: " + summer.sumSparseMatrix(matrix4));

        // Test case 5: Matrix with negative numbers
        int[][] matrix5 = {{-1, 0}, {-2, -3, 0}, {4}};
        System.out.println("Test case 5:");
        System.out.println("Matrix:");
        printMatrix(matrix5);
        System.out.println("Sum of non-zero elements: " + summer.sumSparseMatrix(matrix5));

        // Test case 6: Null matrix
        int[][] matrix6 = null;
        System.out.println("Test case 6:");
        System.out.println("Matrix:");
        printMatrix(matrix6);
        System.out.println("Sum of non-zero elements: " + summer.sumSparseMatrix(matrix6));
    }

    // Helper method to print jagged matrix
    private static void printMatrix(int[][] matrix) {
        if (matrix == null || matrix.length == 0) {
            System.out.println("null");
            return;
        }
        System.out.println("[");
        for (int i = 0; i &lt; matrix.length; i++) {
            System.out.print("  [");
            if (matrix[i] == null || matrix[i].length == 0) {
                System.out.print("]");
            } else {
                for (int j = 0; j &lt; matrix[i].length; j++) {
                    System.out.print(matrix[i][j]);
                    if (j &lt; matrix[i].length - 1) {
                        System.out.print(", ");
                    }
                }
                System.out.print("]");
            }
            System.out.println();
        }
        System.out.println("]");
    }
}
</code></pre>
<h2 id="output"><a class="header" href="#output">Output</a></h2>
<p>Running the <code>main</code> method produces:</p>
<pre><code>Test case 1:
Matrix:
[
  [1, 0, 2]
  [3]
  [0, 4, 5, 0]
]
Sum of non-zero elements: 15
Test case 2:
Matrix:
[
  [0, 0]
  [0]
  [0, 0]
]
Sum of non-zero elements: 0
Test case 3:
Matrix:
[
  []
  [1, 2]
  []
]
Sum of non-zero elements: 3
Test case 4:
Matrix:
[
  [1, 0, 3]
]
Sum of non-zero elements: 4
Test case 5:
Matrix:
[
  [-1, 0]
  [-2, -3, 0]
  [4]
]
Sum of non-zero elements: -2
Test case 6:
Matrix:
null
Sum of non-zero elements: 0
</code></pre>
<p>Explanation:</p>
<ul>
<li>Test case 1: Sums non-zero elements 1, 2, 3, 4, 5 = 15.</li>
<li>Test case 2: No non-zero elements, sum = 0.</li>
<li>Test case 3: Sums non-zero elements 1, 2 = 3 (empty rows contribute 0).</li>
<li>Test case 4: Sums non-zero elements 1, 3 = 4.</li>
<li>Test case 5: Sums non-zero elements -1, -2, -3, 4 = -2.</li>
<li>Test case 6: Returns 0 for a null matrix.</li>
</ul>
<h2 id="how-it-works"><a class="header" href="#how-it-works">How It Works</a></h2>
<ul>
<li><strong>Step 1</strong>: The <code>sumSparseMatrix</code> method checks if the matrix is null or empty. For <code>{{1, 0, 2}, {3}, {0, 4, 5, 0}}</code>, it proceeds.</li>
<li><strong>Step 2</strong>: Initialize <code>sum = 0</code>.</li>
<li><strong>Step 3</strong>: Iterate through rows:
<ul>
<li>Row 0: <code>[1, 0, 2]</code> → sum = 0 + 1 + 0 + 2 = 3.</li>
<li>Row 1: <code>[3]</code> → sum = 3 + 3 = 6.</li>
<li>Row 2: <code>[0, 4, 5, 0]</code> → sum = 6 + 0 + 4 + 5 + 0 = 15.</li>
</ul>
</li>
<li><strong>Example Trace</strong>: For test case 1, accumulates non-zero elements: 1 + 2 + 3 + 4 + 5 = 15.</li>
<li><strong>Main Method</strong>: Tests with jagged matrices of varying row lengths, including all zeros, empty rows, single-row, negative numbers, and null matrix, printing inputs and sums.</li>
<li><strong>Sparse Property</strong>: Only non-zero elements contribute to the sum, leveraging the jagged array’s flexibility for sparse matrices.</li>
</ul>
<h2 id="complexity-analysis-table"><a class="header" href="#complexity-analysis-table">Complexity Analysis Table</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Operation</th><th>Time Complexity</th><th>Space Complexity</th></tr></thead><tbody>
<tr><td>Summation</td><td>O(N)</td><td>O(1)</td></tr>
<tr><td>Full Algorithm</td><td>O(N)</td><td>O(1)</td></tr>
</tbody></table>
</div>
<p><em>Note</em>:</p>
<ul>
<li>N is the total number of elements across all rows (sum of row lengths).</li>
<li>Time complexity: O(N), as the algorithm visits each element once.</li>
<li>Space complexity: O(1), as only a single <code>sum</code> variable is used (excluding input/output).</li>
<li>Best, average, and worst cases are O(N).</li>
</ul>
<blockquote>
<p><strong>✅ Tip</strong>: Use enhanced for loops for clean iteration over jagged arrays. Test with matrices containing empty rows, all zeros, and negative numbers to ensure robustness.</p>
</blockquote>
<blockquote>
<p><strong>⚠ Warning</strong>: Check for null rows within the matrix to avoid <code>NullPointerException</code>. Use a <code>long</code> for the sum to handle large or negative numbers within the constraints.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../problemStatements/ch03_01_02/RowSorting.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../problemStatements/stringProblemSolving.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../problemStatements/ch03_01_02/RowSorting.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../problemStatements/stringProblemSolving.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/ferris.js"></script>


    </div>
    </body>
</html>
